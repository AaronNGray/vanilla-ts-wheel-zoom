<html lang="en">
    <head>
        <title>worka/vanilla-js-wheel-zoom</title>

        <meta http-equiv="Content-type" content="text/html; charset=utf-8">

        <style>
            .container {
                width: 600px;
                height: 600px;
                overflow: auto;
                background: #999;
                position: relative;
                cursor: move
            }

            .badge {
                border: solid 1px blue;
                position: absolute
            }
        </style>
    </head>
    <body>
        <div style="margin:20px;width:600px">
            <h1>vanilla-js-wheel-zoom</h1>

            <h4>
                <a href="https://github.com/worka/vanilla-js-wheel-zoom">
                    https://github.com/worka/vanilla-js-wheel-zoom
                </a>
            </h4>

            <div style="margin:20px 0">
                <div style="float:right">
                    <a data-zoom-up href="javascript:;">Zoom Up</a>
                </div>

                <div>
                    <a data-zoom-down href="javascript:;">Zoom Down</a>
                </div>
            </div>

            <div class="container">
                <div class="badge" style="width:50px;height:60px;top:500px;left:600px"></div>

                <img src="https://placehold.it/2400x1400" alt=""/>
            </div>
        </div>

        <script src="dist/wheel-zoom.min.js" type="text/javascript"></script>

        <script type="text/javascript">
            document.addEventListener('DOMContentLoaded', function () {
                var badge = document.querySelector('.badge');

                var jcWheelZoom = JcWheelZoom.create('img', {
                    prepare: function (scale, correctX, correctY) {
                        // do smth when image prepared

                        if (!Object.keys(badge.dataset).length) {
                            badge.dataset.width = badge.style.width.replace('px', '');
                            badge.dataset.height = badge.style.height.replace('px', '');
                            badge.dataset.left = badge.style.left.replace('px', '');
                            badge.dataset.top = badge.style.top.replace('px', '');
                        }

                        badge.style.width = (badge.dataset.width * scale) + 'px';
                        badge.style.height = (badge.dataset.height * scale) + 'px';
                        badge.style.left = (badge.dataset.left * scale + correctX) + 'px';
                        badge.style.top = (badge.dataset.top * scale + correctY) + 'px';
                    },
                    rescale: function (scale, correctX, correctY) {
                        // do smth when image rescaled

                        badge.style.width = (badge.dataset.width * scale) + 'px';
                        badge.style.height = (badge.dataset.height * scale) + 'px';
                        badge.style.left = (badge.dataset.left * scale + correctX) + 'px';
                        badge.style.top = (badge.dataset.top * scale + correctY) + 'px';
                    }
                });

                window.addEventListener('resize', function () {
                    jcWheelZoom.prepare();
                });

                document.querySelector('[data-zoom-up]').addEventListener('click', function () {
                    jcWheelZoom.zoomUp();
                });

                document.querySelector('[data-zoom-down]').addEventListener('click', function () {
                    jcWheelZoom.zoomDown();
                });
            });
        </script>
    </body>
</html>
